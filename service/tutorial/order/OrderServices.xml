<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/service-definition-2.1.xsd">

    <!-- Sample service to get Order Header details by statusId using Entity Find -->
    <service verb="get" noun="OrderHeadersByStatus">
        <description>
            Service to get OrderHeader records based on the given statusId.
        </description>
        <in-parameters>
            <parameter name="statusId" default-value="OrderApproved">
                <description>The status for the Order Header. If no value is provided,
                    the default value for statusId will be "OrderApproved."</description>
            </parameter>
        </in-parameters>
        <out-parameters>
            <parameter name="ordersList"/>
        </out-parameters>
        <actions>
            <!-- Find OrderHeader records -->
            <entity-find entity-name="mantle.order.OrderHeader" list="ordersList">
                <econdition field-name="statusId"/>
            </entity-find>

            <!-- The ordersList will be returned as the output. -->
        </actions>
    </service>

    <service verb="get" noun="FemalePersons">
        <description>
            Service to get Person records for all females.
        </description>
        <in-parameters>
            <parameter name="gender" default-value="F"/>
        </in-parameters>
        <out-parameters>
            <parameter name="personsList"/>
        </out-parameters>
        <actions>
            <!-- Find Person records -->
            <entity-find entity-name="mantle.party.Person" list="personsList">
                <econdition field-name="gender" value="${gender}"/>
            </entity-find>
        </actions>
    </service>

    <service verb="get" noun="Persons">
        <description>
            Service to get all Person details with MarsMarried marital status.
        </description>
        <in-parameters>
            <parameter name="maritalStatusEnumId" default-value="MarsMarried"/>
        </in-parameters>
        <out-parameters>
            <parameter name="personsList"/>
        </out-parameters>
        <actions>
            <entity-find entity-name="mantle.party.Person" list="personsList">
                <econdition field-name="maritalStatusEnumId" value="${maritalStatusEnumId}"/>
            </entity-find>
        </actions>
    </service>

    <service verb="get" noun="LatestOrders">
        <description>
            Service to get all Order Header records of latest placed orders.
        </description>
        <out-parameters>
            <parameter name ="LatestOrders"/>
        </out-parameters>
        <actions>
            <!-- Find OrderHeader records -->
            <entity-find entity-name="mantle.order.OrderHeader" list="LatestOrders">
                <order-by field-name="-placedDate"/>
            </entity-find>
        </actions>
    </service>

    <service verb="get" noun="Order">
        <description>
            Service to get OrderHeader details for a given orderId
        </description>
        <in-parameters>
            <parameter name="orderId"/>
        </in-parameters>
        <out-parameters>
            <parameter name="orderDetails"/>
        </out-parameters>
        <actions>
            <entity-find-one entity-name="mantle.order.OrderHeader" value-field="orderDetails">
                <field-map field-name="orderId" value="${orderId}"/>
            </entity-find-one>
            <log message="this is log"/>
        </actions>
    </service>

</services>